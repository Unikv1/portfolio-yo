{% load static %}

{% if results %}
    <div id="projectCardAnimation" class="projects-grid">
        {% for project in results %}
            <a href="project/{{project.id}}" style="text-decoration: none;">
                <div class="project-card" style="background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 10%, rgba(0, 0, 0, 0.6) 50%), url('{{ project.get_images_for_project }}');">
                    <div class="project-languages">
                        {% for language in project.languages.all %}
                            <img class="language-icon" title="{{ language.name }}" height="32" width="32" src="{% static '/svg/' %}{{ language.svg }}" />
                        {% endfor %}
                    </div>
                    <div class="project-content">
                        <div class="project-title">
                            {{ project.title }}
                        </div>
                        <div class="project-description">
                            {{ project.description|safe }}
                        </div>
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
{% endif %}

<script>
  function handleImageError(image, placeholderSrc) {
    image.onerror = null
    image.src = placeholderSrc
  }
</script>
